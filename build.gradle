plugins {
    id 'java'
    id 'nu.studer.credentials'
    id 'application'
}

group 'org.example'
version '1.0-SNAPSHOT'
mainClassName = 'Main'

repositories {
    mavenCentral()
}

dependencies {
    implementation group: 'mysql', name: 'mysql-connector-java', version: '8.0.24'
    implementation 'com.google.code.gson:gson:2.8.6'
}

tasks.withType(JavaExec) {
    String jdbc = "jdbc:mysql://"
    String hostname = "burane.fr:"
    String dbname = "ProjetReseauCnam"
    String dbport = "3306/"
    systemProperty "database.user", credentials.dbUser
    systemProperty "database.password", credentials.dbPassword
    systemProperty "database.url", jdbc + hostname + dbport + dbname
}